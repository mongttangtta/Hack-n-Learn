{% extends "base.html" %}
{% block content %}
<div class="card" style="max-width:520px; margin:0 auto; padding:28px;">

  <h2 style="margin-bottom:22px;">í”„ë¡œí•„ ì„¤ì • ğŸ§‘â€ğŸ’»</h2>

  {% if user.profile_image %}
    <a href="{{ url_for('view_file', filename=user.profile_image) }}">
      <img src="/static/profile/{{ user.profile_image }}"
           style="width:110px; height:110px; border-radius:50%; object-fit:cover;
                  margin-bottom:18px; display:block; margin-left:auto; margin-right:auto;">
    </a>
  {% else %}
    <img src="/static/default_profile.png"
         style="width:110px; height:110px; border-radius:50%; object-fit:cover;
                margin-bottom:18px; display:block; margin-left:auto; margin-right:auto;">
  {% endif %}

  <form method="post" enctype="multipart/form-data">

    <input type="file" name="photo" accept="image/*"
           onchange="document.getElementById('fname').value=this.files[0]?.name || ''"
           style="margin-bottom:10px; width:100%;">

    <input type="text" id="fname" name="filename"
           placeholder="ì—…ë¡œë“œë  íŒŒì¼ëª… ì…ë ¥"
           style="width:100%; padding:8px; border-radius:6px; border:1px solid #bbb; margin-bottom:16px;">

    <button type="submit"
            style="
              width:100%; padding:12px;
              background:#0054a6; color:white;
              border-radius:6px; font-weight:600;
            ">
      ì—…ë¡œë“œí•˜ê¸°
    </button>
  </form>

  {% if error %}
    <p style="color:#c00; font-weight:600; margin-top:12px;">{{ error }}</p>
  {% endif %}

  <a href="{{ url_for('index') }}"
     style="display:inline-block; margin-top:22px; font-weight:600; color:#333;">
    â† ëŒì•„ê°€ê¸°
  </a>

</div>
{% endblock %}

